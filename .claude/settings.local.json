{
  "permissions": {
    "allow": [
      "Bash(cargo build:*)",
      "Bash(cargo test:*)",
      "Bash(powershell -Command \"Measure-Command { cargo run --release --bin folio-mcp 2>&1 | Out-Null }\")",
      "Bash(cargo run:*)",
      "Bash(cat:*)",
      "Bash(find:*)",
      "Bash(xargs -I {} sh -c 'echo \"\"\"\"=== {} ===\"\"\"\" && head -20 \"\"\"\"{}\"\"\"\"')",
      "Bash(dir /s /b *.pest)",
      "Bash(D:)",
      "Bash(findstr:*)",
      "Bash(powershell -Command \"\\(Get-Content ''folio-matrix/src/ops.rs''\\) -replace ''static GET_ARGS: \\\\[ArgMeta; 3\\\\] = \\\\['', ''static GET_ARGS: [ArgMeta; 3] = ['' | Out-Null; echo ''Check file modification date:''; \\(Get-Item ''folio-matrix/src/ops.rs''\\).LastWriteTime\")",
      "Bash(powershell -Command \"\\(Get-Item ''folio-core/src/value.rs''\\).LastWriteTime\")",
      "Bash(powershell -Command \"\n$content = Get-Content ''folio-core/src/value.rs'' -Raw\n$old = ''            Value::Object\\(_\\) => write!\\(f, \"\"[Object]\"\"\\),''\n$new = @''\n            Value::Object\\(obj\\) => {\n                // Smart object display based on type\n                if let Some\\(Value::Text\\(t\\)\\) = obj.get\\(\"\"type\"\"\\) {\n                    match t.as_str\\(\\) {\n                        \"\"Matrix\"\" => {\n                            if let Some\\(Value::List\\(data\\)\\) = obj.get\\(\"\"data\"\"\\) {\n                                let rows: Vec<String> = data.iter\\(\\).map\\(|row| {\n                                    if let Value::List\\(cols\\) = row {\n                                        let vals: Vec<String> = cols.iter\\(\\).map\\(|v| {\n                                            if let Value::Number\\(n\\) = v { n.as_decimal\\(4\\) } else { v.to_string\\(\\) }\n                                        }\\).collect\\(\\);\n                                        format!\\(\"\"[{}]\"\", vals.join\\(\"\", \"\"\\)\\)\n                                    } else { row.to_string\\(\\) }\n                                }\\).collect\\(\\);\n                                if rows.len\\(\\) == 1 { write!\\(f, \"\"{}\"\", rows[0]\\) }\n                                else { write!\\(f, \"\"[{}]\"\", rows.join\\(\"\"; \"\"\\)\\) }\n                            } else { write!\\(f, \"\"[Matrix]\"\"\\) }\n                        }\n                        \"\"Vector\"\" => {\n                            if let Some\\(Value::List\\(data\\)\\) = obj.get\\(\"\"data\"\"\\) {\n                                let vals: Vec<String> = data.iter\\(\\).map\\(|v| {\n                                    if let Value::Number\\(n\\) = v { n.as_decimal\\(4\\) } else { v.to_string\\(\\) }\n                                }\\).collect\\(\\);\n                                write!\\(f, \"\"[{}]\"\", vals.join\\(\"\", \"\"\\)\\)\n                            } else { write!\\(f, \"\"[Vector]\"\"\\) }\n                        }\n                        _ => write!\\(f, \"\"[{}]\"\", t\\)\n                    }\n                } else { write!\\(f, \"\"[Object]\"\"\\) }\n            }\n''@\n$content = $content -replace [regex]::Escape\\($old\\), $new\nSet-Content -Path ''folio-core/src/value.rs'' -Value $content -NoNewline\necho ''Done''\n\")",
      "Bash(powershell -Command \"Get-Content ''folio-core/src/value.rs'' | Select-String ''Value::Object''\")",
      "Bash(powershell -ExecutionPolicy Bypass -File fix_value.ps1)",
      "Bash(powershell -Command \"\\(Get-Content ''folio/src/render.rs'' -Raw\\).Replace\\(''Value::Object\\(_\\) => \"\"[Object]\"\".to_string\\(\\),'', ''Value::Object\\(_\\) => value.to_string\\(\\), // Use Display trait for smart formatting''\\) | Set-Content ''folio/src/render.rs'' -NoNewline\")",
      "Bash(cd:*)",
      "Bash(dir:*)",
      "Bash(./target/release/folio-mcp eval:*)"
    ]
  }
}
